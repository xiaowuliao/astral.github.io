---
title: 服务器部署教程（仅Linux）
description: 该教程将教你如何部署ET服务端（仅Linux）
---

## 📌 前提条件

- **有一台电脑** 
- **有一台带有ipv4公网的服务器** 

## 📦 ET服务端部署教程

> 📋 **示例环境：** Debian12.5（其他Linux操作系统类似）

 ### 🔑 使用ssh工具连接到服务器

> 📋 **示例环境：** ssh工具为：[FinalShell](https://www.hostbuf.com/t/988.html)（其他ssh工具类似）（⚠️下载可能需要科学上网）

> ⚠️ **重要提醒：**  
> 所有服务器信息请以服务器提供商提供的信息为准

**Step 1：** 进入**FinalShell**，点击左上角**文件夹**，随后按照图片标记顺序操作

![进入ssh工具](/images/服务器部署/服务器部署-1.png)

**Step 2：** 在弹出的窗口中，**名称**填写服务器的名称，主要用于区分别的服务器，**主机**处填写服务器提供商给你的服务器ip地址，**端口**处填写服务器提供商给你的ssh端口，**用户名**处填写服务器提供商给你的用户名，**密码**处填写服务器提供商给你的密码，随后点击下方**确定**

> ⚠️ **重要提醒：** 一般ssh用户名默认为**root**,端口默认为**22**,但服务器提供商可能会为了安全进行更改，请以网站面板显示为主

![ssh连接](/images/服务器部署/服务器部署-2.png)

**Step 3：** 在弹出的窗口中，双击你刚刚创建的服务器（比如我这里创建的服务器名称为**枣庄**，请无视马赛克部分，那是我的其他服务器）

![ssh连接](/images/服务器部署/服务器部署-3.png)

**Step 4：** 随后你将会进入ssh页面（下图中的ip地址已被打码，请无视）

![ssh连接](/images/服务器部署/服务器部署-4.png)

**最终连接效果** 

> ⚠️ **重要提醒：** 可能会有点不一样，因为所使用的Linux系统不同

![ssh连接](/images/服务器部署/服务器部署-4.png)

> ✅ **服务器连接完成！** 恭喜你成功连接到你的服务器了，现在可以进行下一步了

### ⚙️ 安装ET服务端

**Step 1：** 使用该指令更新apt

> ⚠️ **重要提醒：** 如果该命令无法更新请自行查找更新指令

```
apt update 
```

**Step 2：** 检查是否已安装unzip，在WindTrem中的服务器窗口中输入

```
unzip -v 
```

![安装unzip](/images/服务器部署/服务器部署-8.png)

**Step 3：** 使用该命令安装unzip

> ⚠️ **重要提醒：** 如果该命令无法安装请自行查找安装指令

```
apt install unzip
```

#### 关于乌班图（Ubuntu）系统，如果不是请跳到**Step 4：**

**如果你使用的是乌班图（Ubuntu）系统，那么安装unzip时将会弹出此窗口，请不要慌张，点击键盘左上角的**ESC**键退出即可**

![重启内核](/images/服务器部署/服务器部署-6.png)

**最后来到这，请继续下一步操作**

![重启内核](/images/服务器部署/服务器部署-7.png)

**Step 4：** 检查unzip是否安装成功，如下图所示

```
unzip -v 
```

![安装unzip](/images/服务器部署/服务器部署-9.png)

**Step 5：** 安装EasyTier

**一键安装命令**

```
wget -O /tmp/easytier.sh "https://raw.githubusercontent.com/EasyTier/EasyTier/main/script/install.sh" && bash /tmp/easytier.sh install --gh-proxy https://ghfast.top/
```

> ⚠️ **重要提醒：** 如果提示如下报错

![安装unzip](/images/服务器部署/服务器部署-10.png)

**Step 1：**请使用该命令安装依赖

```
apt install curl
```

**Step 2：**随后可能会弹出确认，按Y后回车即可，安装完成后请**再次**使用一键命令安装easytier

![安装unzip](/images/服务器部署/服务器部署-11.png)

> ⚠️ **重要提醒：** 如果该命令无法安装请跳转到[手动安装教程](#手动安装教程)

**easytier最终安装效果**

![安装ET](/images/服务器部署/服务器部署-12.png)

**Step 6：** 使用该命令启动EasyTier，注意启动后不会有任何提示

```
systemctl start easytier@default
```

> ✅ **EasyTier安装完成！** 恭喜您成功安装EasyTier了，现在可以进行下一步了

### 进入默认EasyTier配置文件目录

**Step 1：** 点击下方的opt，随后进入easytier根目录

![回退](/images/服务器部署/服务器部署-13.png)

**Step 2：** 随后点击config

![进入目录](/images/服务器部署/服务器部署-14.png)

**Step 3：** 双击**Default.conf**文件

![配置](/images/服务器部署/服务器部署-15.png)

**最终打开效果**

![最终](/images/服务器部署/服务器部署-16.png)

> ✅ **打开EasyTier配置文件！** 恭喜您成功打开EasyTier配置文件了，现在可以进行下一步了

### 修改EasyTier配置文件

**Step 1：** 复制以下配置，回到刚刚打开的配置文件，使用键盘左下角的**CTRL+A**全选旧的配置（你也可以在打开的文件内使用鼠标右键再点击全选），再把新的配置**粘贴**进去

```
hostname = "" #更改想要的服务器名称,留空将随机生成
dhcp = true
listeners = [
    "tcp://0.0.0.0:11010",
    "udp://0.0.0.0:11010",
]
rpc_portal = "127.0.0.1:15888"

[network_identity]
network_name = ""
network_secret = ""

[flags]
enable_kcp_proxy = true
enable_quic_proxy = true
latency_first = true
```

**Step 2：** 随后点击上方的**文件**并点击**保存**

![配置](/images/服务器部署/服务器部署-17.png)

> ⚠️ **重要提醒：** 您在打开或者保存配置的时候，会闪过这个窗口，请不用理会

![配置](/images/服务器部署/服务器部署-18.png)

> ⚠️ **重要提醒：** 如果你使用的是别的ssh工具，可能需要下载的自己电脑上更改后再上传回服务器替换，具体请自己百度

**Step 3：** 输入该指令重启EasyTier服务，注意重启后不会有任何提示

```
systemctl restart easytier@default
```

![重启](/images/服务器部署/服务器部署-19.png)

> ⚠️ **重要提醒：** 您每次改动easytier的配置文件，改完后均需重启一次easytier（另外请记得**保存**你修改的文件）

> ⚠️ **重要提醒：** 如果你买的是大厂的服务器，需要前往防火墙控制台页面放行端口，你需要放行端口**11010**，协议为**UDP**和**TCP**，很抱歉因为我是借的服务器所以无法进行图文演示

> ✅ **完成EasyTier的文件配置！** 恭喜您已完成EasyTier的文件配置了，现在可以进行下一步了

### 📱 使用Astral连接到您的服务器

> ⚠️ **重要提醒：** Astral简称AS，后续教程中会简称为AS

**Step 1：** 打开AS，点击左侧的**设置**，随后点击**服务器列表**

![添加服务器](/images/服务器部署/服务器部署-20.png)

**Step 2：** 随后点击右下角的**＋**号

![添加服务器](/images/服务器部署/服务器部署-21.png)

**Step 3 ：** 在弹出的窗口中，**服务器名称**用于在**服务器**页面中区分您的服务器，**服务器地址**填写您服务器的公网IP地址加上**:11010**（公网IP地址为刚刚ssh连接时的**主机**部分），随后点击右下方的**添加**

> ⚠️ **重要提醒：** 服务器地址中的端口号**默认为11010**，如您已更改请改为您所更改的

> ⚠️ **重要提醒：** 端口号前为**英文冒号**，请勿使用中文冒号

![添加服务器](/images/服务器部署/服务器部署-22.png)

**Step 4 ：** 随后您便可以像公益服务器一样正常使用您的服务器了，如果您需要更安全的服务器配置，请继续看下方的进阶教程

> ⚠️ **重要提醒：** 如果您不希望把服务器给陌生人用，那么请不要随意分享您的服务器地址，并告知您的朋友不要随意分享

## 🛡️ 进阶教程

### 将服务器变成私有模式

> ⚠️ **重要提醒：** 进阶教程主要目的是将服务器变成私有模式，避免陌生人白嫖

**Step 1：** 在EasyTier配置文件中的**底部额外添该行**

```
private_mode = true
```

**Step 2：** 并修改**[network_identity]**部分

> ⚠️ **重要提醒：** 如果您使用的是**FinalShell**，那么请在左上方点击**文件**并选择**保存**

> ⚠️ **重要提醒：** 如果你使用的是别的ssh工具，可能需要下载的自己电脑上更改后再上传回服务器替换

network_name = "" #输入您打算在AS使用的房间号

network_secret = "" #输入您打算在AS使用的房间密码

**Step 3：** 在FinalShell中输入该指令重启EasyTier服务

**一键命令版命令**

```
systemctl restart easytier@default
```

**手动部署版命令**

```
./easytier-cli service stop && ./easytier-cli service start
```

> ⚠️ **重要提醒：** 请根据部署的模式选择对应命令

![重启](/images/服务器部署/服务器部署-19.png)

> ✅ **完成EasyTier文件的私人配置！** 恭喜您已完成EasyTier的私人配置了，现在可以进行下一步了

### 在AS中创建私人房间

> ⚠️ **重要提醒：** 因为手机端操作与电脑类似，这里仅做电脑端的教程，手机端按着步骤来即可

**Step 1：** 打开AS，点击左侧的**房间**，随后点击右下角的**加号**，**房间名称**用于**区分**房间**页面的其他房间**，**关闭保护模式**，在**房间号**中填写你刚刚在**[配置文件](#将服务器变成私有模式)中**设置的名称，**房间密码**同样,最后点击确定

![添加房间](/images/服务器部署/服务器部署-23.png)

**Step 2：** 最后返回**主页**点击右下角的**连接**即可

> ⚠️ **重要提醒：** 如果无法连接到服务器，请检查房间名称和密码是否相同，如果已确认相同请尝试**重启AS**重新连接（**仅电脑端AS**）

> ⚠️ **重要提醒：** 当您点击AS右上角的**叉号**时，AS并不会退出，您需要点击**右下角箭头**展开后台软件，在弹出的窗口右键AS图标，并点击**退出**（**仅电脑端AS**）

![退出](/images/服务器部署/服务器部署-24.png)

> ✅ **完成连接！** 恭喜您已成功连接上房间了

### 手动安装教程

**Step 1：** 下载easytier的linux包（在QQ群文件），随后将该文件移动到自己电脑桌面方便后续使用

![退出](/images/服务器部署/服务器部署-25.png)

![退出](/images/服务器部署/服务器部署-26.png)

![退出](/images/服务器部署/服务器部署-27.png)

**Step 2：** 使用以下命令创建文件夹，**需按顺序从上到下分步执行**

```
cd /
```

```
mkdir easytier
```

**Step 3：** 点击右边的刷新，随后进入**easytier文件夹**

![退出](/images/服务器部署/服务器部署-29.png)

**Step 4：** 将刚刚下载的easytier压缩包拖入该目录

![退出](/images/服务器部署/服务器部署-30.png)

**最终状态**

![退出](/images/服务器部署/服务器部署-31.png)

**Step 5：** 在上方窗口输入该命令

```
cd easytier && unzip easytier-linux-x86_64-v2.5.0.zip && cd easytier-linux-x86_64 && ./easytier-cli service install -c /easytier/easytier-linux-x86_64/config/default.conf && ./easytier-cli service start
```

**Step 5：** 随后，您可以正常[使用Astral连接到您的服务器](#-使用astral连接到您的服务器)了,或者继续配置[进阶教程](#-进阶教程)以保护您的服务器

#### 如果您需要修改配置文件，根据上面的第Step 3刷新后，在下方文件中进入该目录即可找到配置文件

![退出](/images/服务器部署/服务器部署-32.png)

> ⚠️ **重要提醒：** 改完配置文件后请点击左上角**文件**，随后选择**保存**，FinalShell将会自动上传替换配置文件

**随后使用该命令重启easytier即可**

```
./easytier-cli service stop && ./easytier-cli service start
```

## 🎉 写在最后

🎮 **祝您联机愉快！**

# 感谢您的阅读，如发现教程错误或有改进建议，欢迎在交流群中反馈！